id: 94ad3963e1254b66a149733d630ec437
parent_id: 
item_type: 1
item_id: e2ea1687564043889eb5364897f38de0
item_updated_time: 1714187501157
title_diff: "[{\"diffs\":[[1,\"x264 命令行\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":8}]"
body_diff: "[{\"diffs\":[[1,\"#### https://blog.csdn.net/xhyan523/article/details/107629949\\\n```shell\\\n使用格式：x264 默认选项 -o 输出文件 输入文件 [长x宽]\\\n输入支持格式：RAW/y4m/avi/avs(编译时可选)\\\n输出支持格式：264/mkv/mp4(编译时可选)\\\n\\\n    x264的许多参数可以有-/--两种输入法，笔者也不知道为什么。以下等价参数用“参数1/参数2 <必需数值格式>”表示，参数尾部()内为个人推荐。\\\n\\\n-h/--help 帮助\\\n\\\n帧类型选项：\\\n\\\n-I/--keyint <整数> 最大IDR帧间距，默认250\\\n-i/--min-keyint <整数> 最小IDR帧间距，默认25\\\n--scenecut <整数> 画面动态变化限，当超出此值时插入I帧，默认40\\\n-b/--bframes <整数>     在IP帧之间可插入的B帧数量最大值，范围0~16，默认0\\\n--no-b-adapt            关闭自适应B帧判定(-b设为1时可用，其他不推荐)\\\n--b-bias <整数> 控制插入B帧判定，范围-100~+100，越高越容易插入B帧，默认0\\\n--b-pyramid             允许B帧做参考帧\\\n--no-cabac              关闭内容自适应二进制算术编码(CABAC，高效率的熵编码)(会提高速度，但严重影响质量)\\\n-r/--ref <整数>         最大参考帧数，范围0~16，默认1\\\n--nf                    关闭环路滤波(一种除马赛克算法)\\\n-f/--filter <alpha:beta>设置环路滤波的AlphaC和Beta的参数，范围-6-6，默认都为0\\\n\\\n码率控制选项：\\\n\\\n-q/--qp <整数> 固定量化模式并设置使用的量化值，范围0~51，0为无损压缩，默认26\\\n-B/--bitrate <整数> 设置平均码率\\\n--crf <整数> 质量模式，量化值动态可变(目前不太成熟，质量不如设置固定量化值)\\\n--qpmin <整数> 设置最小量化值，范围0~51，默认10\\\n--qpmax <整数> 设置最大量化值，范围0~51，默认51\\\n--qpstep <整数> 设置相邻帧之间的量化值差，范围0~50，默认4\\\n--ratetol <小数> 平均码率模式下，瞬时码率可以偏离的倍数，范围0.1~100.0，默认1.0\\\n--vbv-maxrate <整数> 平均码率模式下，最大瞬时码率，默认0(与-B设置相同)\\\n--vbv-bufsize <整数> 码率控制缓冲区的大小，单位kbit，默认0\\\n--vbv-init <小数> 码率控制缓冲区数据保留的最大数据量与缓冲区大小之比，范围0~1.0，默认0.9\\\n\\\n--ipratio <小数> I帧和P帧之间的量化系数，默认1.40\\\n--pbratio <小数> P帧和B帧之间的量化系数，默认1.30\\\n--色度-qp-offset <整数> 色度和亮度之间的量化差，范围-12~+12，默认0\\\n\\\n-p/--pass <1|2|3> 多次压缩码率控制\\\n1：第一次压缩，创建统计文件\\\n2：按建立的统计文件压缩并输出，不覆盖统计文件，\\\n3：按建立的统计文件压缩，优化统计文件\\\n--stats <字符串> 统计文件的名称，默认\\\"x264_2pass.log\\\"\\\n--rceq <字符串> 速率控制公式，默认\\\"blurCplx^(1-qComp)\\\"\\\n--qcomp <小数> 线性量化控制，0.0为固定码率，1.0为固定量化值，默认0.6，只用于2-pass和质量模式\\\n--cplxblur <小数> 根据相邻帧平滑量化值比例的最大值，范围0~99.9，默认20.0，只用于2-pass和质量模式\\\n--qblur <小数> 对统计文件结果平滑量化值比例的最大值,范围0~99.9，默认0.5，只用于2-pass\\\n\\\n--zones <z0>/<z1>/… 分段量化，格式为：<开始帧>,<结束帧>,<选项>，可选项为：q=<整数>(量化值)或b=<小数>(码率倍数)\\\n\\\n分析选项：\\\n\\\n-A/--analyse <字符串> 动态块划分方法，默认\\\"p8x8,b8x8,i8x8,i4x4\\\"。可选项：p8x8/p4x4/b8x8/i8x8/i4x4；none/all(p4x4需要p8x8. i8x8需要--8x8dct)\\\n--direct <字符串>       动态预测方式，默认\\\"spatial\\\"。可选项：none/spatial/temporal/auto\\\n-w/--weightb 允许B帧加权预测(可以减少相邻B帧质量低的影响)\\\n--me <字符串> 对全像素块动态预测搜索的方式，默认\\\"hex\\\"，可选项：\\\ndia：菱形搜索，半径1 (快)\\\nhex：正六边形搜索，半径2\\\numh：可变半径六边形搜索\\\nesa：全面搜索(很慢，而且效果与umh几乎相同)\\\n--merange <整数> --me为umh/esa时的搜索半径，最大64，默认16\\\n-m/--subme <整数> 动态预测和分区方式，可选项1~7，默认5(与压缩质量和时间关系密切，1是7速度的四倍以上)\\\n1：用全像素块进行动态搜索，对每个块再用快速模式进行四分之一像素块精确搜索\\\n2：用半像素块进行动态搜索，对每个块再用快速模式进行四分之一像素块精确搜索\\\n3：用半像素块进行动态搜索，对每个块再用质量模式进行四分之一像素块精确搜索\\\n4：用快速模式进行四分之一像素块精确搜索\\\n5：用质量模式进行四分之一像素块精确搜索\\\n6：进行I、P帧像素块的速率失真最优化(rdo)\\\n7：进行I、P帧运动矢量及块内部的速率失真最优化(质量最好)\\\n--b-rdo B帧也进行rdo，需要--subme在6以上\\\n--mixed-refs 可以在一帧内使用不同参考帧\\\n--no-chroma-me 不进行色度的动态预测\\\n--bime 可以平均B帧参考块的运动矢量\\\n-8/--8x8dct 可以使用8x8的离散余弦变换(DCT)\\\n-t/--trellis <整数>     Trellis量化，对每个8x8的块寻找合适的量化值，需要CABAC，默认0\\\n0：关闭\\\n1：只在最后编码时使用\\\n2：一直使用\\\n--no-fast-pskip 关闭快速P帧跳过检测\\\n--no-dct-decimate       关闭P帧联合编码(可以增加细节，但也会增大体积)\\\n--nr <整数> 噪声去除，范围0~100000，默认0\\\n\\\n--cqm <字符串> 设置外部量化矩阵格式，默认\\\"flat\\\"，可选项：jvt/flat\\\n--cqmfile <字符串> 读取JM格式的外部量化矩阵文件，自动忽略其他--cqm*选项\\\n--cqm4 <list> 设置4x4的量化矩阵，用逗号分开，范围1~255的16个整数\\\n--cqm8 <list> 设置8x8的量化矩阵，用逗号分开，范围1~255的64个整数\\\n--cqm4i/--cqm4p/--cqm8i/--cqm8p 设置I、P帧不同的量化矩阵\\\n--cqm4iy/--cqm4ic/--cqm4py/--cqm4pc 设置亮度、色度不同的量化矩阵\\\n\\\n视频标准化选项：\\\n这些选项与编码无关，不过如果要用mp4之类的播放器，可以设置，风险自担\\\n\\\n--sar width:height 设置长宽比\\\n--overscan <字符串> 过扫描线，默认\\\"undef\\\"(不设置)，可选项：show(观看)/crop(去除)\\\n--videoformat <字符串> 视频格式，默认\\\"undef\\\"，可选项：component/pal/ntsc/secam/mac/undef\\\n--fullrange <字符串>    Specify full range samples setting，默认\\\"off\\\"，可选项：off/on(我也不明白这是干什么的，请高手指点)\\\n--colorprim <字符串>    原始色度格式，默认\\\"undef\\\"，可选项：undef/bt709/bt470m/bt470bg，smpte170m/smpte240m/film\\\n--transfer <字符串>     转换方式，默认\\\"undef\\\"，可选项：undef/bt709/bt470m/bt470bg/linear,log100/log316/smpte170m/smpte240m\\\n--colormatrix <字符串>  色度矩阵设置，默认\\\"undef\\\",undef/bt709/fcc/bt470bg,smpte170m/smpte240m/GBR/YCgCo\\\n--chromaloc <整数> 色度样本指定，范围0~5，默认0\\\n\\\n输入、输出选项：\\\n\\\n--level <字符串> 设定等级(as defined by Annex A)(不明白，请高手指点)\\\n--fps <小数> 设定帧率\\\n--seek <整数> 设定起始帧\\\n--frames <整数> 最大编码帧数\\\n-o/--output 指定输出文件\\\n\\\n--threads <整数> 编码线程(使用分片技术)\\\n--thread-input 在编码线程中运行Avisynth\\\n--no-asm 关闭全部CPU优化指令\\\n--no-psnr 关闭PSNR计算\\\n--quiet 安静模式\\\n-v/--verbose 显示每一个帧的信息\\\n--progress 显示编码进程\\\n--visualize 显示运动矢量\\\n--sps-id <整数> 设置SPS和PPS的ID值，默认0\\\n--aud 使用数据单元定义符号\\\n\\\n```\\\n\\\n#### https://www.jianshu.com/p/dea33a9ba070\\\n```shell\\\n\\\n```\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":4060}]"
metadata_diff: {"new":{"id":"e2ea1687564043889eb5364897f38de0","parent_id":"277625300cac43d59010bb5adfc3b155","latitude":"34.20576800","longitude":"117.28412400","altitude":"0.0000","author":"","source_url":"","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":0,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":"","master_key_id":"","user_data":"","deleted_time":0},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2024-04-27T03:18:54.701Z
created_time: 2024-04-27T03:18:54.701Z
type_: 13