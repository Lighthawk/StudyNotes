# 外部变量、外部函数、编译预处理指令、条件编译指令、预编译、编译、汇编、链接

## 外部变量

- 源文件之外的其它文件也可以使用
- 其它文件使用时，用extern 关键字声明
- 文件作用域变量，默认都是 
## 外部函数
- 所有类外声明的函数（非成员函数），都是有文件作用域的
- 可以在不同编译单元中调用
- 调用前，进行引用性声明（声明函数原型）即可

## 编译预处理指令

- #include
  - 嵌入源文件
  - <filename> 标准方式搜索，C++系统目录
  - "filename" 先当前目录，若没有再按标准方式搜
- #define
  - 定义符号常量，多被 const 替代
  - 定义带参数宏，已被内联函数替代
- #undef
  - 删除由 #define 定义的宏

## 条件编译指令

- #if，#else，#elif，#endif，#ifdef，#ifndef
  - #if 常量表达式 或 #ifdef 标志符（被定义过，且未被#undef删除，反义是 #ifndef）
  - #else
  - #endif

## 预编译

- 处理 # 开始的预编译指令
  - 删除 #define，展开宏定义
  - 处理条件编译指令
  - 处理 #include，递归处理插入到这里的文件
  - 删除注释
  - 添加行号和文件名标识，便于编译时编译器产生调试用的行号，编译错误和告警时显示行号
  - 保留所有的 [#pragma](https://baike.baidu.com/item/%23pragma/706691) 指令，编译器必须用
- 无法判断宏定义是否正确或者头文件包含是否正确时，可以查看预编译后的文件来确定（.i 为预编译后文件）

## 编译

