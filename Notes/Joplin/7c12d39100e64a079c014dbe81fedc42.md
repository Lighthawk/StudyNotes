id: 7c12d39100e64a079c014dbe81fedc42
parent_id: f8cbccd27b154dde898f0e88af9cdcf7
item_type: 1
item_id: f67419a6e0c14a3b8929446cff7901a6
item_updated_time: 1714233619591
title_diff: "[]"
body_diff: "[{\"diffs\":[[0,\"2.735272 fps\"],[1,\"\\\n# 这个命令晚上重测是：\\\nWidth:          1920\\\nHeight:         1080\\\nFrames:         85\\\nencode time:    2.548025 sec\\\nFPS:            33.359170 fps\"],[0,\"\\\n\\\n./h264enc \"]],\"start1\":2639,\"start2\":2639,\"length1\":24,\"length2\":157},{\"diffs\":[[0,\"01 fps\\\n\\\n\"],[1,\"# 下面这个是 -O2 的，直接解压源码测的...但这个结果是怎么回事儿 ???\\\n# 再次测的 -O3，结果跟 -O2 差不多\\\n./h264enc -org files/original.yuv -complexity 0 -frms 85 -sw 1920 -sh 1080 -frin 30 -numtl 1 -numl 0  -dw 0 1920 -dh 0 1080 -frout 0 30 -iper 120  -rc -1 -bf -deblockIdc 0 -threadIdc 1  files/openh264-recon.h264 \\\nWidth:          1920\\\nHeight:         1080\\\nFrames:         85\\\nencode time:    2.475000 sec\\\nFPS:            34.343434 fps\\\n\"],[0,\"```\\\n\\\n###\"]],\"start1\":3446,\"start2\":3446,\"length1\":16,\"length2\":413},{\"diffs\":[[0,\"# 示例\"],[-1,\"也\"],[1,\"的命令放在新版本的 libavc 上\"],[0,\"不行，跑不起来\"],[1,\"：\"],[0,\"\\\n$ c\"]],\"start1\":9497,\"start2\":9497,\"length1\":16,\"length2\":34},{\"diffs\":[[0,\" 8000000\"],[1,\"\\\n\\\n# 但可以用 ChenzhiHang 的代码跑起自己的码流（7 years ago 代码，不支持 aarch64）\\\n# 码流信息如下，非常惊人的高效 psnr 是 33.x，与 openh264 相比高了 n 个档（可能没有可比性，下面是在 x86 跑的，前面 openh264  是 aarch64 的结果）；\\\n# 码流大小非常奇妙，分析了下，每个P帧后面跟了一个几乎全是 P_Skip 的帧，码率非常小\\\n./avcencode --input files/original.yuv --output files/libavc-output.h264   --width 1920 --height 1080 --num_frames 85 --input_chroma_format YUV_420P --num_cores 1 --profile MAIN --tgt_framerate 30 --bitrate 16000000\\\n\\\nTotal memory for codec 50954880\\\nCODEC VERSION @(#)Id:H264ENC_production Ver:01.00 Released by ITTIAM Build: Apr 27 2024 @ 22:40:43\\\n[IDR] PicNum    1 Bytes Generated 219934 TimeTaken(microsec):  34228 AvgTime:  34228 PeakAvgTimeMax:   4278\\\n[P] PicNum    2 Bytes Generated  81794 TimeTaken(microsec):  21940 AvgTime:  28084 PeakAvgTimeMax:   7021\\\n[P] PicNum    3 Bytes Generated    113 TimeTaken(microsec):   9176 AvgTime:  21781 PeakAvgTimeMax:   8168\\\n[P] PicNum    4 Bytes Generated  81527 TimeTaken(microsec):  21860 AvgTime:  21801 PeakAvgTimeMax:  10900\\\n[P] PicNum    5 Bytes Generated    422 TimeTaken(microsec):   9633 AvgTime:  19367 PeakAvgTimeMax:  12104\\\n[P] PicNum    6 Bytes Generated  80531 TimeTaken(microsec):  21625 AvgTime:  19743 PeakAvgTimeMax:  14807\\\n[P] PicNum    7 Bytes Generated    319 TimeTaken(microsec):   9537 AvgTime:  18285 PeakAvgTimeMax:  15999\\\n[P] PicNum    8 Bytes Generated  86387 TimeTaken(microsec):  22527 AvgTime:  18815 PeakAvgTimeMax:  18815\\\n[P] PicNum    9 Bytes Generated    142 TimeTaken(microsec):   9039 AvgTime:  17729 PeakAvgTimeMax:  18815\\\n[P] PicNum   10 Bytes Generated  70303 TimeTaken(microsec):  19992 AvgTime:  17955 PeakAvgTimeMax:  18815\\\n[P] PicNum   11 Bytes Generated    496 TimeTaken(microsec):   9786 AvgTime:  17213 PeakAvgTimeMax:  18815\\\n[P] PicNum   12 Bytes Generated  81196 TimeTaken(microsec):  21686 AvgTime:  17585 PeakAvgTimeMax:  18815\\\n[P] PicNum   13 Bytes Generated    386 TimeTaken(microsec):   9623 AvgTime:  16973 PeakAvgTimeMax:  18815\\\n[P] PicNum   14 Bytes Generated  75004 TimeTaken(microsec):  20739 AvgTime:  17242 PeakAvgTimeMax:  18815\\\n[P] PicNum   15 Bytes Generated   1123 TimeTaken(microsec):  10025 AvgTime:  16761 PeakAvgTimeMax:  18815\\\n[P] PicNum   16 Bytes Generated  90364 TimeTaken(microsec):  22618 AvgTime:  17127 PeakAvgTimeMax:  18815\\\n[P] PicNum   17 Bytes Generated    101 TimeTaken(microsec):   9323 AvgTime:  16668 PeakAvgTimeMax:  18815\\\n[P] PicNum   18 Bytes Generated  72100 TimeTaken(microsec):  20410 AvgTime:  16875 PeakAvgTimeMax:  18815\\\n[P] PicNum   19 Bytes Generated   1771 TimeTaken(microsec):  10667 AvgTime:  16549 PeakAvgTimeMax:  18815\\\n[P] PicNum   20 Bytes Generated 113349 TimeTaken(microsec):  25551 AvgTime:  16999 PeakAvgTimeMax:  18815\\\n[P] PicNum   21 Bytes Generated    220 TimeTaken(microsec):   9414 AvgTime:  16638 PeakAvgTimeMax:  18815\\\n[P] PicNum   22 Bytes Generated  88729 TimeTaken(microsec):  22119 AvgTime:  16887 PeakAvgTimeMax:  18815\\\n[P] PicNum   23 Bytes Generated    316 TimeTaken(microsec):   9602 AvgTime:  16570 PeakAvgTimeMax:  18815\\\n[P] PicNum   24 Bytes Generated  92337 TimeTaken(microsec):  22798 AvgTime:  16829 PeakAvgTimeMax:  18815\\\n[P] PicNum   25 Bytes Generated    124 TimeTaken(microsec):   9241 AvgTime:  16526 PeakAvgTimeMax:  18815\\\n[P] PicNum   26 Bytes Generated  84031 TimeTaken(microsec):  22219 AvgTime:  16745 PeakAvgTimeMax:  18815\\\n[P] PicNum   27 Bytes Generated    441 TimeTaken(microsec):   9512 AvgTime:  16477 PeakAvgTimeMax:  18815\\\n[P] PicNum   28 Bytes Generated  79434 TimeTaken(microsec):  21218 AvgTime:  16646 PeakAvgTimeMax:  18815\\\n[P] PicNum   29 Bytes Generated   1097 TimeTaken(microsec):   9905 AvgTime:  16414 PeakAvgTimeMax:  18815\\\n[P] PicNum   30 Bytes Generated  90859 TimeTaken(microsec):  22548 AvgTime:  16618 PeakAvgTimeMax:  18815\\\n[I] PicNum   31 Bytes Generated 149012 TimeTaken(microsec):  24369 AvgTime:  16868 PeakAvgTimeMax:  18815\\\n[P] PicNum   32 Bytes Generated  52979 TimeTaken(microsec):  17190 AvgTime:  16878 PeakAvgTimeMax:  18815\\\n[P] PicNum   33 Bytes Generated  20062 TimeTaken(microsec):  13341 AvgTime:  16771 PeakAvgTimeMax:  18815\\\n[P] PicNum   34 Bytes Generated  98729 TimeTaken(microsec):  23366 AvgTime:  16965 PeakAvgTimeMax:  18815\\\n[P] PicNum   35 Bytes Generated    151 TimeTaken(microsec):   9096 AvgTime:  16740 PeakAvgTimeMax:  18815\\\n[P] PicNum   36 Bytes Generated  77755 TimeTaken(microsec):  20330 AvgTime:  16840 PeakAvgTimeMax:  18815\\\n[P] PicNum   37 Bytes Generated    384 TimeTaken(microsec):   9663 AvgTime:  16646 PeakAvgTimeMax:  18815\\\n[P] PicNum   38 Bytes Generated  86866 TimeTaken(microsec):  21777 AvgTime:  16781 PeakAvgTimeMax:  18815\\\n[P] PicNum   39 Bytes Generated    156 TimeTaken(microsec):   9388 AvgTime:  16591 PeakAvgTimeMax:  18815\\\n[P] PicNum   40 Bytes Generated  84493 TimeTaken(microsec):  21307 AvgTime:  16709 PeakAvgTimeMax:  18815\\\n[P] PicNum   41 Bytes Generated    587 TimeTaken(microsec):   9856 AvgTime:  16542 PeakAvgTimeMax:  18815\\\n[P] PicNum   42 Bytes Generated 106363 TimeTaken(microsec):  24696 AvgTime:  16736 PeakAvgTimeMax:  18815\\\n[P] PicNum   43 Bytes Generated    191 TimeTaken(microsec):   9258 AvgTime:  16562 PeakAvgTimeMax:  18815\\\n[P] PicNum   44 Bytes Generated  88861 TimeTaken(microsec):  22106 AvgTime:  16688 PeakAvgTimeMax:  18815\\\n[P] PicNum   45 Bytes Generated    210 TimeTaken(microsec):   9429 AvgTime:  16527 PeakAvgTimeMax:  18815\\\n[P] PicNum   46 Bytes Generated  89124 TimeTaken(microsec):  22037 AvgTime:  16647 PeakAvgTimeMax:  18815\\\n[P] PicNum   47 Bytes Generated    526 TimeTaken(microsec):   9917 AvgTime:  16503 PeakAvgTimeMax:  18815\\\n[P] PicNum   48 Bytes Generated 109064 TimeTaken(microsec):  24852 AvgTime:  16677 PeakAvgTimeMax:  18815\\\n[P] PicNum   49 Bytes Generated    116 TimeTaken(microsec):   9215 AvgTime:  16525 PeakAvgTimeMax:  18815\\\n[P] PicNum   50 Bytes Generated  86260 TimeTaken(microsec):  21584 AvgTime:  16626 PeakAvgTimeMax:  18815\\\n[P] PicNum   51 Bytes Generated    558 TimeTaken(microsec):   9908 AvgTime:  16495 PeakAvgTimeMax:  18815\\\n[P] PicNum   52 Bytes Generated 107832 TimeTaken(microsec):  24147 AvgTime:  16642 PeakAvgTimeMax:  18815\\\n[P] PicNum   53 Bytes Generated    135 TimeTaken(microsec):   9257 AvgTime:  16502 PeakAvgTimeMax:  18815\\\n[P] PicNum   54 Bytes Generated  94196 TimeTaken(microsec):  22634 AvgTime:  16616 PeakAvgTimeMax:  18815\\\n[P] PicNum   55 Bytes Generated    224 TimeTaken(microsec):   9471 AvgTime:  16486 PeakAvgTimeMax:  18815\\\n[P] PicNum   56 Bytes Generated  98022 TimeTaken(microsec):  23150 AvgTime:  16605 PeakAvgTimeMax:  18815\\\n[P] PicNum   57 Bytes Generated    204 TimeTaken(microsec):   9442 AvgTime:  16479 PeakAvgTimeMax:  18815\\\n[P] PicNum   58 Bytes Generated 100692 TimeTaken(microsec):  23711 AvgTime:  16604 PeakAvgTimeMax:  18815\\\n[P] PicNum   59 Bytes Generated    326 TimeTaken(microsec):   9514 AvgTime:  16484 PeakAvgTimeMax:  18815\\\n[P] PicNum   60 Bytes Generated  98251 TimeTaken(microsec):  23351 AvgTime:  16598 PeakAvgTimeMax:  18815\\\n[I] PicNum   61 Bytes Generated 161753 TimeTaken(microsec):  25069 AvgTime:  16737 PeakAvgTimeMax:  18815\\\n[P] PicNum   62 Bytes Generated  56694 TimeTaken(microsec):  17457 AvgTime:  16749 PeakAvgTimeMax:  18815\\\n[P] PicNum   63 Bytes Generated  24762 TimeTaken(microsec):  13870 AvgTime:  16703 PeakAvgTimeMax:  18815\\\n[P] PicNum   64 Bytes Generated 106934 TimeTaken(microsec):  24128 AvgTime:  16819 PeakAvgTimeMax:  18815\\\n[P] PicNum   65 Bytes Generated     84 TimeTaken(microsec):   9202 AvgTime:  16702 PeakAvgTimeMax:  18815\\\n[P] PicNum   66 Bytes Generated  89257 TimeTaken(microsec):  21866 AvgTime:  16780 PeakAvgTimeMax:  18815\\\n[P] PicNum   67 Bytes Generated    514 TimeTaken(microsec):   9892 AvgTime:  16677 PeakAvgTimeMax:  18815\\\n[P] PicNum   68 Bytes Generated 108013 TimeTaken(microsec):  24059 AvgTime:  16786 PeakAvgTimeMax:  18815\\\n[P] PicNum   69 Bytes Generated    117 TimeTaken(microsec):   9284 AvgTime:  16677 PeakAvgTimeMax:  18815\\\n[P] PicNum   70 Bytes Generated  98827 TimeTaken(microsec):  23289 AvgTime:  16771 PeakAvgTimeMax:  18815\\\n[P] PicNum   71 Bytes Generated    237 TimeTaken(microsec):   9461 AvgTime:  16669 PeakAvgTimeMax:  18815\\\n[P] PicNum   72 Bytes Generated 104194 TimeTaken(microsec):  24374 AvgTime:  16776 PeakAvgTimeMax:  18815\\\n[P] PicNum   73 Bytes Generated    153 TimeTaken(microsec):   9110 AvgTime:  16671 PeakAvgTimeMax:  18815\\\n[P] PicNum   74 Bytes Generated  83634 TimeTaken(microsec):  21488 AvgTime:  16736 PeakAvgTimeMax:  18815\\\n[P] PicNum   75 Bytes Generated   1921 TimeTaken(microsec):  10630 AvgTime:  16654 PeakAvgTimeMax:  18815\\\n[P] PicNum   76 Bytes Generated 115521 TimeTaken(microsec):  25633 AvgTime:  16772 PeakAvgTimeMax:  18815\\\n[P] PicNum   77 Bytes Generated    120 TimeTaken(microsec):   9248 AvgTime:  16675 PeakAvgTimeMax:  18815\\\n[P] PicNum   78 Bytes Generated  98400 TimeTaken(microsec):  23740 AvgTime:  16765 PeakAvgTimeMax:  18815\\\n[P] PicNum   79 Bytes Generated    270 TimeTaken(microsec):   9476 AvgTime:  16673 PeakAvgTimeMax:  18815\\\n[P] PicNum   80 Bytes Generated  89624 TimeTaken(microsec):  22480 AvgTime:  16745 PeakAvgTimeMax:  18815\\\n[P] PicNum   81 Bytes Generated    636 TimeTaken(microsec):   9945 AvgTime:  16662 PeakAvgTimeMax:  18815\\\n[P] PicNum   82 Bytes Generated 103220 TimeTaken(microsec):  23875 AvgTime:  16749 PeakAvgTimeMax:  18815\\\n[P] PicNum   83 Bytes Generated    276 TimeTaken(microsec):   9737 AvgTime:  16665 PeakAvgTimeMax:  18815\\\n[P] PicNum   84 Bytes Generated 107746 TimeTaken(microsec):  24698 AvgTime:  16761 PeakAvgTimeMax:  18815\\\n[P] PicNum   85 Bytes Generated    388 TimeTaken(microsec):   9818 AvgTime:  16679 PeakAvgTimeMax:  18815\\\n[NA] PicNum   85 Bytes Generated      0 TimeTaken(microsec):      2 AvgTime:  16679 PeakAvgTimeMax:  18815\\\n\\\nEncoding Completed\\\nSummary\\\nInput filename                  : files/original.yuv\\\nOutput filename                 : files/libavc-output.h264\\\nOutput Width                    : 1920\\\nOutput Height                   : 1080\\\nTarget Bitrate (bps)            : 16000000\\\nAchieved Bitrate (bps)          : 12572880\\\nAverage Time per Frame          : 16679\\\nAchieved FPS                    : 59.96\"],[0,\"\\\n```\\\n\"]],\"start1\":9757,\"start2\":9757,\"length1\":13,\"length2\":10069}]"
metadata_diff: {"new":{},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2024-04-27T16:05:13.678Z
created_time: 2024-04-27T16:05:13.678Z
type_: 13